<html>
  <head>
    <title> Space Bullet Hell </title>
  </head>

  <body>

    <canvas id="myCanvas"  style="background:url('https://t3.ftcdn.net/jpg/02/64/27/90/360_F_264279006_WDXxV3OHjAOoHqH7iiLDrg23p0947g7U.jpg'); background-size: cover; height: 98vh; width: 65vh;"></canvas> 
    
  

    <script>

    var score = 0;
      var FPS = 60;           // How many frames per second
      var time_remaining = 20;

      var ship_x = 0;
      var ship_y = 0;
      var ShipImg = new Image();
      ShipImg.src = "https://preview.redd.it/kfctkbq1zhb61.png?width=250&format=png&auto=webp&s=0037e6fa2d03fda3752e8192fe1c3ef780440747";         // The player

      var enemy_x = 0;
      var enemy_y = 0;
      var EnemyImg = new Image();
      EnemyImg.src = "https://toppng.com/uploads/preview/2-3-4-enemy-spaceship-5-background-6-bullet-top-down-view-spaceshi-11563040481pwpyztbvjs.png";  // The enemy
      var enemy_speed = 3;


      function restart_game() {
        // This gets called when the 'R' key is pressed and just sets 
        // some important variables back to the start.
        // Alternatively they could just reload the page
        time_remaining = 300;
        score = 0;
        enemy_speed = 3;
      }

      function ImagesTouching(x1, y1, img1, x2, y2, img2) {           // This function detects whether two images are touching - very useful function
        if (x1 >= x2+img2.width || x1+img1.width <= x2) return false;           // too far to the side
        if (y1 >= y2+img2.height || y1+img1.height <= y2) return false;           // too far above/below
        return true;           // otherwise, overlap   
      }

      ctx.drawImage(ShipImg, ship_x, ship_y);           //  draw ship

      ctx.fillStyle= "purple";
      ctx.font = "20px Arial";
      ctx.fillText("Score: " + score, 0, 20);           // display the score


            
      ctx.drawImage(EnemyImg, enemy_x, enemy_y);           // draw the enemy

      if (ImagesTouching(ship_x, ship_y, ShipImg, enemy_x, enemy_y, EnemyImg)) {           // check for touching
        score= score - 1;           // subtract one to score
        enemy_speed = enemy_speed + 0.5;           // and make it fall a bit faster
        enemy_x= -EnemyImg.width;           // hide the enemy so the score doesn't rocket
      }

      addEventListener("keydown", MyKeyDownHandler);           // listen for keystrokes  


      function MyKeyDownHandler (MyEvent) { 
        if (MyEvent.keyCode == 37 && ship_x > 0) {ship_x = ship_x - 1;}           // left
        if (MyEvent.keyCode == 39 && ship_x+ShipImg.width < myCanvas.width) {ship_x = ship_x+1;}           // right
        if (MyEvent.keyCode == 87 && ship_y > 0) {ship_y = ship_y - 10;}           // left
        if (MyEvent.keyCode == 83 && ship_y+ShipImg.height < myCanvas.height) {ship_y = ship_y+10;}           // right
        if (MyEvent.keyCode == 82) restart_game();           // R to restart 
        MyEvent.preventDefault();
      }

    </script>

  </body>
</html>